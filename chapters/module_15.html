<!DOCTYPE html>

<html lang="en"\>
<head\>
<meta charset="UTF-8"\>
<meta name="viewport" content="width=device-width, initial-scale=1.0"\>
<title\>Cybersecurity - Module 15: Incident Response & Management (Comprehensive)</title\>
<style\>
body {
font-family: Arial, sans-serif;
background-color: \#f8f9fa;
margin: 0;
padding: 20px;
line-height: 1.6;
color: \#333;
}

    .container {
        max-width: 900px;
        margin: 20px auto;
        padding: 30px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    h1, h2, h3 {
        color: #0056b3; /* Cairo University Blue */
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        border-bottom: 2px solid #dee2e6;
        padding-bottom: 15px;
    }

    h2 {
        margin-top: 20px; /* Reduced top margin for sections */
        margin-bottom: 20px;
        border-bottom: 1px solid #e9ecef;
        padding-bottom: 10px;
    }

    h3 {
        margin-top: 25px;
        margin-bottom: 15px;
        color: #007bff; /* Lighter Blue */
    }

    /* Main Tabs Styles */
    .main-tabs {
        display: flex;
        justify-content: space-around; /* Or flex-start, center */
        flex-wrap: wrap; /* Allow wrapping on smaller screens */
        margin-bottom: 25px;
        border-bottom: 2px solid #0056b3;
    }

    .main-tabs .tab-button {
        padding: 12px 20px; /* Adjusted padding slightly */
        border: none;
        background: none;
        color: #0056b3;
        font-size: 0.95em; /* Slightly smaller font */
        font-weight: bold;
        cursor: pointer;
        border-radius: 5px 5px 0 0;
        transition: background-color 0.3s ease, color 0.3s ease;
        margin-bottom: -2px; /* Overlap border */
        border-bottom: 2px solid transparent;
        text-align: center;
    }

    .main-tabs .tab-button.active {
        background: #0056b3;
        color: white;
        border-bottom: 2px solid #0056b3;
    }
    .main-tabs .tab-button:hover:not(.active) {
        background-color: #e9ecef;
        border-bottom: 2px solid #adb5bd;
    }

    /* Content Sections */
    .main-content {
        display: none; /* Hide all main content sections by default */
        animation: fadeIn 0.5s;
    }

    .main-content.active {
        display: block; /* Show only the active one */
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }


    /* --- Accordion Styles (for Glossary) --- */
    .glossary-accordion {
        border: 1px solid #dee2e6;
        border-radius: 5px;
        overflow: hidden; /* Contain borders */
    }

    .accordion-item {
        border-bottom: 1px solid #dee2e6; /* Separator */
    }
    .accordion-item:last-child {
        border-bottom: none;
    }

    .accordion-header {
        background-color: #f8f9fa;
        color: #dc3545; /* Highlight Red for terms */
        cursor: pointer;
        padding: 15px 20px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 1.1em;
        font-weight: bold;
        transition: background-color 0.3s ease;
        position: relative; /* For the indicator */
    }

    .accordion-header:hover {
        background-color: #e9ecef;
    }

    /* Indicator (+/-) */
    .accordion-header::after {
        content: '\002B'; /* + sign */
        color: #0056b3;
        font-weight: bold;
        float: right;
        margin-left: 5px;
        transition: transform 0.2s ease-in-out;
    }

    .accordion-header.active::after {
        content: "\2212"; /* - sign */
        transform: rotate(180deg); /* Optional: animate the sign itself */
    }
    /* Optional: Slightly different style for active header */
    .accordion-header.active {
         background-color: #e7f1ff;
    }


    .accordion-panel {
        padding: 0 20px; /* Start with 0 padding top/bottom */
        background-color: white;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* Smooth transition */
    }
    .accordion-panel p, .accordion-panel ul {
        margin: 15px 0; /* Add margin back when panel is open */
        color: #333; /* Reset color for definition */
    }

    /* --- End Accordion Styles --- */


    /* Processes Styles */
    #processes .process-block {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
    }
    #processes ul {
        list-style-type: square;
        padding-left: 20px;
    }
    #processes .example {
         margin-top: 15px;
         padding-left: 15px;
         border-left: 3px solid #17a2b8; /* Info Blue */
    }
     #processes .solution {
         margin-top: 10px;
         padding-left: 15px;
         font-style: italic;
    }

    /* Quiz Styles (apply within #fill, #tf, #mc) */
    .question {
        margin-bottom: 25px;
        padding: 20px;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        background-color: #ffffff; /* White background for questions */
        position: relative; /* For feedback positioning */
    }

    .question p {
        margin: 0 0 15px;
        font-weight: bold;
        font-size: 1.05em;
    }

    .options {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .option-button {
        padding: 10px 15px;
        border: 1px solid #ced4da;
        background: #f8f9fa; /* Light background for options */
        color: #495057;
        cursor: pointer;
        border-radius: 5px;
        text-align: left;
        transition: background-color 0.2s ease, border-color 0.2s ease;
        width: 100%;
    }
    .option-button:hover {
         background-color: #e9ecef;
         border-color: #adb5bd;
    }

    .option-button.selected {
        background: #007bff;
        color: white;
        border-color: #0056b3;
    }

    .check-answer {
        margin-top: 15px;
        padding: 10px 20px;
        border: none;
        background: #28a745; /* Success Green */
        color: white;
        cursor: pointer;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.2s ease;
    }
    .check-answer:hover {
         background-color: #218838;
    }

    .feedback {
        margin-top: 15px;
        padding: 10px;
        border-radius: 5px;
        font-weight: bold;
    }

    .feedback.correct {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }

    .feedback.incorrect {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
</style>
```

</head\>
<body\>
<div class="container"\>
<h1\>Module 15: Incident Response & Management (Comprehensive)</h1\>

```
    <div class="main-tabs">
        <button class="tab-button active" data-tab="glossary">Glossary</button>
        <button class="tab-button" data-tab="processes">Processes & Techniques</button>
        <button class="tab-button" data-tab="fill">Fill in the Blank</button>
        <button class="tab-button" data-tab="tf">True/False</button>
        <button class="tab-button" data-tab="mc">Multiple Choice</button>
    </div>

    <section id="glossary" class="main-content active">
        <h2>Glossary of Terms</h2>
        <div class="glossary-accordion">
             <div class="accordion-item">
                <button class="accordion-header">Event</button>
                <div class="accordion-panel">
                    <p>Any observable occurrence in a system or network. Most events are normal, routine operations (e.g., a user successfully logging in).</p>
                </div>
            </div>
             <div class="accordion-item">
                <button class="accordion-header">Alert</button>
                <div class="accordion-panel">
                    <p>A notification generated when a tool or system detects an event that is abnormal, unexpected, or potentially malicious. An alert signals that something requires further investigation.</p>
                </div>
            </div>
             <div class="accordion-item">
                <button class="accordion-header">Incident</button>
                <div class="accordion-panel">
                    <p>An event or alert that, after investigation, is confirmed to be a security breach or violation of security policy with a significant enough impact to warrant an official response.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Incident Response</button>
                <div class="accordion-panel">
                    <p>The technical, hands-on process of investigating what happened during an incident and performing recovery actions. It is focused on the forensic and remediation aspects.</p>
                </div>
            </div>
             <div class="accordion-item">
                <button class="accordion-header">Incident Management</button>
                <div class="accordion-panel">
                    <p>The broader, overarching process of dealing with an incident, which includes communications, media relations, reporting, coordinating support, and making strategic decisions.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">CSIRT (Computer Security Incident Response Team)</button>
                <div class="accordion-panel">
                    <p>A designated team of experts with business, technical, legal, and public relations skills responsible for responding to and managing cybersecurity incidents.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Digital Forensics</button>
                <div class="accordion-panel">
                    <p>A crucial component of cybersecurity that involves the collection, analysis, and interpretation of digital evidence to investigate and respond to cyber incidents.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Forensic Acquisition</button>
                <div class="accordion-panel">
                    <p>The process of gathering evidence from digital devices in a forensically sound manner, ensuring the original evidence is not altered or contaminated.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Write-Blocking</button>
                <div class="accordion-panel">
                    <p>Hardware or software used during forensic acquisition to prevent any changes or modifications to the original evidence, thereby preserving its integrity.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Legal Hold</button>
                <div class="accordion-panel">
                    <p>The process of preserving relevant electronic or physical evidence related to actual or potential litigation, regulatory investigations, or other legal proceedings.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Chain of Custody</button>
                <div class="accordion-panel">
                    <p>The chronological documentation of the handling, transfer, and storage of evidence from collection to presentation in court. It establishes a trail of accountability.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">E-discovery</button>
                <div class="accordion-panel">
                    <p>Short for electronic discovery, it is the process of collecting, processing, and analyzing electronic data (like emails, documents, databases) for use as evidence in legal cases.</p>
                </div>
            </div>
             <div class="accordion-item">
                <button class="accordion-header">Root Cause Analysis (RCA)</button>
                <div class="accordion-panel">
                    <p>A systematic process used in the post-incident phase to identify the fundamental underlying causes of an incident, with the goal of preventing recurrence.</p>
                </div>
            </div>
            <div class="accordion-item">
                <button class="accordion-header">Threat Hunting</button>
                <div class="accordion-panel">
                    <p>A proactive cybersecurity practice that involves actively searching through networks and systems to detect and isolate advanced threats that may have evaded existing security controls.</p>
                </div>
            </div>
        </div> </section>

    <section id="processes" class="main-content">
         <h2>Processes & Techniques</h2>
         <h3>Understanding the Flow: Event to Incident</h3>
         <div class="process-block">
            <h4>From Noise to Action</h4>
            <p>Not every suspicious activity is a full-blown crisis. The process follows a logical escalation path:</p>
            <ul>
                <li><strong>Event:</strong> Thousands of normal activities happen every second (e.g., a user logs in). Security tools monitor these events.</li>
                <li><strong>Alert:</strong> An event is flagged as abnormal (e.g., a user logs in from two different countries simultaneously). This generates an alert for an analyst.</li>
                <li><strong>Incident:</strong> An analyst investigates the alert. If it's a real threat with significant potential impact (not a false positive), it is officially declared an incident, triggering a formal response.</li>
            </ul>
            <div class="example"><p><strong>Example: A Phishing Email</strong></p><div class="solution"><p>An employee receives a phishing email (an **event**). The email filter blocks it, so no alert is needed. Later, another phishing email gets through and the user clicks a link. The Endpoint Detection and Response (EDR) software blocks the malicious connection and generates an **alert**. A security analyst sees the alert and confirms a user's credentials were nearly stolen. Because of the potential for data loss, this is escalated to an **incident**.</p></div></div>
         </div>

         <h3>The People & The Plan: CSIRT and Documentation</h3>
         <div class="process-block">
            <h4>Building Your Defense Team</h4>
            <p>A **Computer Security Incident Response Team (CSIRT)** is the core group that manages incidents. It's not just for tech experts.</p>
             <ul>
                <li><strong>Key Roles:</strong> A good CSIRT includes a Team Leader, Lead Investigator, Analysts, Communications Specialists, Legal Representation, and an Executive Sponsor.</li>
                <li><strong>The Plan:</strong> The team operates using an **Incident Response Plan (IRP)**. This is a detailed document outlining procedures, roles, communication strategies, and everything needed to handle a crisis smoothly.</li>
            </ul>
         </div>

         <h3>The Incident Response Lifecycle (NIST Model)</h3>
         <div class="process-block">
            <h4>5 Key Phases of Response</h4>
            <p>This is the central process for handling an incident from start to finish.</p>
            <ul>
                <li><strong>1. Preparation:</strong> This is the work you do *before* an incident. It includes forming the CSIRT, writing the IRP, training staff, and deploying security tools. Good preparation is key to a successful response.</li>
                <li><strong>2. Detection and Analysis:</strong> An incident is detected (via alerts, user reports, etc.). The team analyzes all available data (logs, network traffic) to understand the scope: who, what, when, where, and how.</li>
                <li><strong>3. Containment, Eradication, and Recovery:</strong> This is a three-stage step:
                    <ul>
                        <li><strong>Containment:</strong> Stop the bleeding. Isolate affected systems to prevent the attacker from moving further. (e.g., disconnect a laptop from the network).</li>
                        <li><strong>Eradication:</strong> Remove the threat completely. This means deleting malware, disabling stolen accounts, and patching vulnerabilities.</li>
                        <li><strong>Recovery:</strong> Restore systems to normal operation. This involves restoring from clean backups and monitoring closely to ensure the threat is truly gone.</li>
                    </ul>
                </li>
                <li><strong>4. Post-Incident Analysis:</strong> Also called "Lessons Learned." The team meets to review the entire incident. The goal is not to assign blame, but to identify what went well, what didn't, and how to improve. This often involves a **Root Cause Analysis (RCA)** to find the fundamental weakness that allowed the incident to happen.</li>
            </ul>
         </div>

         <h3>Handling the Evidence: Digital Forensics Essentials</h3>
         <div class="process-block">
            <h4>Preserving the Digital Crime Scene</h4>
            <p>When an incident might lead to legal action, handling digital evidence correctly is critical.</p>
            <ul>
                <li><strong>Forensic Acquisition:</strong> Creating a perfect, bit-by-bit copy (a forensic image) of a compromised device's storage without altering the original. This is done using **write-blockers**.</li>
                <li><strong>Chain of Custody:</strong> A meticulous log documenting everyone who has handled the evidence, where it's been stored, and what was done to it. This proves the evidence hasn't been tampered with.</li>
                <li><strong>Legal Hold:</strong> A formal process to preserve all potentially relevant data when litigation is anticipated. This prevents the intentional or accidental destruction of evidence (**spoliation**).</li>
                <li><strong>E-discovery:</strong> The formal process of identifying, collecting, and producing electronically stored information (ESI) in response to a legal request.</li>
            </ul>
         </div>
    </section>

    <div id="fill" class="main-content">
        <h2>Fill in the Blank Questions</h2>
        <div id="fill-questions"></div>
    </div>

    <div id="tf" class="main-content">
        <h2>True/False Questions</h2>
        <div id="tf-questions"></div>
    </div>

    <div id="mc" class="main-content">
        <h2>Multiple Choice Questions</h2>
        <div id="mc-questions"></div>
    </div>

</div> <script>
    // --- START OF QUIZ DATA ---
    const fillInTheBlank = [
        {
            question: "A notification generated when a tool detects an abnormal or unexpected event is called an _______.",
            options: ["Incident", "Event", "Log", "Alert"],
            answer: "Alert"
        },
        {
            question: "The broader, overarching process of dealing with an incident, including communications and reporting, is known as _______.",
            options: ["Incident Response", "Digital Forensics", "Threat Hunting", "Incident Management"],
            answer: "Incident Management"
        },
        {
            question: "The team of experts responsible for handling cybersecurity incidents is called a _______.",
            options: ["SOC", "CSIRT", "NOC", "MSSP"],
            answer: "CSIRT"
        },
        {
            question: "The first phase of the Incident Response Lifecycle is _______.",
            options: ["Detection", "Preparation", "Containment", "Recovery"],
            answer: "Preparation"
        },
        {
            question: "The step of isolating affected systems to prevent an attack from spreading is called _______.",
            options: ["Eradication", "Recovery", "Containment", "Analysis"],
            answer: "Containment"
        },
        {
            question: "The process used after an incident to identify fundamental underlying causes is _______.",
            options: ["Threat Hunting", "Root Cause Analysis", "E-discovery", "Penetration Testing"],
            answer: "Root Cause Analysis"
        },
        {
            question: "The chronological documentation showing the handling and transfer of evidence is the _______.",
            options: ["Legal Hold", "Incident Report", "Chain of Custody", "Forensic Image"],
            answer: "Chain of Custody"
        },
        {
            question: "The intentional or accidental destruction of evidence relevant to a legal case is called _______.",
            options: ["Acquisition", "Spoliation", "Litigation", "Preservation"],
            answer: "Spoliation"
        },
        {
            question: "Proactively searching for threats that have evaded existing security controls is known as _______.",
            options: ["Threat Hunting", "Incident Response", "Vulnerability Scanning", "Digital Forensics"],
            answer: "Threat Hunting"
        },
        {
            question: "During forensic acquisition, a _______ is used to prevent any changes from being made to the original evidence.",
            options: ["Firewall", "Hard Drive", "Write-blocker", "SIEM"],
            answer: "Write-blocker"
        }
    ];

    const trueOrFalse = [
        {
            question: "Every security event should be escalated to a full-blown incident.",
            answer: false
        },
        {
            question: "Incident Response is primarily concerned with communications and media relations.",
            answer: false
        },
        {
            question: "A CSIRT should only consist of technical IT staff.",
            answer: false
        },
        {
            question: "The 'Recovery' phase should always be performed before the 'Containment' phase.",
            answer: false
        },
        {
            question: "The goal of the 'Post-Incident Analysis' phase is to assign blame to the responsible employees.",
            answer: false
        },
        {
            question: "A legal hold is a process to preserve evidence when litigation is anticipated.",
            answer: true
        },
        {
            question: "A properly maintained Chain of Custody is crucial for ensuring evidence is admissible in court.",
            answer: true
        },
        {
            question: "Threat hunting is a reactive process that begins only after an alert has been triggered.",
            answer: false
        },
        {
            question: "Insufficient logging can make it extremely difficult for a security team to investigate an incident.",
            answer: true
        },
        {
            question: "An Incident Response Plan (IRP) is a high-level policy document, while an Incident Response Policy is a detailed step-by-step guide.",
            answer: false
        }
    ];

    const multipleChoice = [
        {
            question: "An analyst investigates an alert and determines it is not a real threat. This is known as a:",
            options: ["True Positive", "False Negative", "True Negative", "False Positive"],
            answer: "False Positive"
        },
        {
            question: "Which role in a CSIRT is responsible for providing guidance on compliance and interactions with law enforcement?",
            options: ["Team Leader", "Lead Investigator", "Communications Specialist", "Legal Representation"],
            answer: "Legal Representation"
        },
        {
            question: "Which phase of the Incident Response Lifecycle involves removing the threat actor and malware from the infrastructure?",
            options: ["Detection", "Containment", "Eradication", "Recovery"],
            answer: "Eradication"
        },
        {
            question: "What is the primary goal of Root Cause Analysis (RCA)?",
            options: ["To recover lost data quickly", "To identify the fundamental reason an incident occurred to prevent it from happening again", "To notify the public about a data breach", "To punish the employee who made a mistake"],
            answer: "To identify the fundamental reason an incident occurred to prevent it from happening again"
        },
         {
            question: "A security team is actively searching for signs of an Advanced Persistent Threat (APT) within their network, even though no alerts have been triggered. What is this activity called?",
            options: ["Incident Management", "Digital Forensics", "Threat Hunting", "Vulnerability Scanning"],
            answer: "Threat Hunting"
        },
        {
            question: "Which of the following is a common incident response pitfall?",
            options: ["Having too much documentation", "Training employees too often", "Insufficient logging and monitoring", "Communicating too clearly with executives"],
            answer: "Insufficient logging and monitoring"
        },
        {
            question: "What is the correct order for the three stages within the third phase of incident response?",
            options: ["Recovery, Eradication, Containment", "Eradication, Containment, Recovery", "Containment, Eradication, Recovery", "Containment, Recovery, Eradication"],
            answer: "Containment, Eradication, Recovery"
        },
        {
            question: "An organization is required by law to collect and produce specific emails for a lawsuit. This process is called:",
            options: ["Chain of Custody", "E-discovery", "Legal Hold", "Forensic Acquisition"],
            answer: "E-discovery"
        },
        {
            question: "During which phase would a CSIRT conduct tabletop exercises and simulation drills?",
            options: ["Preparation", "Detection and Analysis", "Recovery", "Post-Incident Analysis"],
            answer: "Preparation"
        },
        {
            question: "Which tool aggregates and correlates log data from multiple sources to help detect incidents?",
            options: ["Anti-virus (AV)", "Endpoint Detection and Response (EDR)", "Security Information and Event Management (SIEM)", "A write-blocker"],
            answer: "Security Information and Event Management (SIEM)"
        }
    ];
    // --- END OF QUIZ DATA ---


    // --- START OF SCRIPT LOGIC ---
    document.addEventListener('DOMContentLoaded', () => {
        // Select main tabs and content sections
        const mainTabButtons = document.querySelectorAll('.main-tabs .tab-button');
        const mainTabContents = document.querySelectorAll('.main-content');

        // Select quiz content containers
        const fillContainer = document.getElementById('fill-questions');
        const tfContainer = document.getElementById('tf-questions');
        const mcContainer = document.getElementById('mc-questions');

         // Select accordion elements
        const accordionHeaders = document.querySelectorAll('.accordion-header');


        // --- Main Tab Switching Logic ---
        mainTabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab'); // Get the ID of the target content

                // Deactivate all main buttons and content
                mainTabButtons.forEach(btn => btn.classList.remove('active'));
                mainTabContents.forEach(content => content.classList.remove('active'));

                // Activate the clicked button
                button.classList.add('active');

                // Activate the corresponding content section
                const targetContent = document.getElementById(tabId);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });

        // --- Accordion Logic (for Glossary) ---
         accordionHeaders.forEach(header => {
            header.addEventListener('click', function() {
                // Toggle active class on the header for styling (+) (-) sign
                this.classList.toggle('active');

                // Get the panel sibling
                const panel = this.nextElementSibling;

                // Toggle the max-height for smooth transition
                if (panel.style.maxHeight) {
                    // If panel is open, close it
                    panel.style.maxHeight = null;
                    panel.style.padding = "0 20px"; // Remove padding when closing
                } else {
                     // If panel is closed, open it
                    panel.style.maxHeight = panel.scrollHeight + "px";
                    panel.style.padding = "15px 20px"; // Add padding back when opening
                }
            });
        });


        // --- Function to handle option selection within a question ---
        function handleOptionSelection(button, questionDiv) {
            // Deselect siblings within the same question
            const siblings = questionDiv.querySelectorAll('.option-button.selected');
            siblings.forEach(sib => sib.classList.remove('selected'));
            // Select clicked button
            button.classList.add('selected');
             // Clear previous feedback when a new option is selected
            const existingFeedback = questionDiv.querySelector('.feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }
        }

        // --- Function to create and append feedback ---
        function showFeedback(questionDiv, isCorrect, correctAnswer) {
             // Remove existing feedback first
            const existingFeedback = questionDiv.querySelector('.feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }

            const feedback = document.createElement('div');
            feedback.className = 'feedback';
            if (isCorrect) {
                feedback.classList.add('correct');
                feedback.textContent = 'Correct!';
            } else {
                feedback.classList.add('incorrect');
                feedback.textContent = `Incorrect. Correct answer: ${correctAnswer}`;
            }
            // Append feedback after the check button
            const checkButton = questionDiv.querySelector('.check-answer');
             if (checkButton) {
                // Insert after the check button if it exists
                checkButton.parentNode.insertBefore(feedback, checkButton.nextSibling);
            } else {
                 // Otherwise, append to the end of the question div
                 questionDiv.appendChild(feedback);
            }
        }

        // --- Load Fill in the Blank Questions ---
        function loadFillInTheBlankQuestions() {
            fillContainer.innerHTML = ''; // Clear previous content
            fillInTheBlank.forEach((q) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';

                const questionText = document.createElement('p');
                questionText.textContent = q.question;
                questionDiv.appendChild(questionText);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';

                q.options.forEach(option => {
                    const optionButton = document.createElement('button');
                    optionButton.className = 'option-button';
                    optionButton.textContent = option;
                    optionButton.addEventListener('click', () => handleOptionSelection(optionButton, questionDiv));
                    optionsDiv.appendChild(optionButton);
                });
                questionDiv.appendChild(optionsDiv);

                const checkButton = document.createElement('button');
                checkButton.className = 'check-answer';
                checkButton.textContent = 'Check Answer';
                checkButton.addEventListener('click', () => {
                    const selected = questionDiv.querySelector('.option-button.selected');
                    if (selected) {
                        showFeedback(questionDiv, selected.textContent === q.answer, q.answer);
                    } else {
                         showFeedback(questionDiv, false, q.answer); // Indicate incorrect if nothing selected
                    }
                });
                questionDiv.appendChild(checkButton);

                fillContainer.appendChild(questionDiv);
            });
        }

        // --- Load True/False Questions ---
        function loadTrueFalseQuestions() {
            tfContainer.innerHTML = ''; // Clear previous content
            trueOrFalse.forEach((q) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';

                const questionText = document.createElement('p');
                questionText.textContent = q.question;
                questionDiv.appendChild(questionText);

                 const optionsDiv = document.createElement('div'); // Keep consistent structure
                optionsDiv.className = 'options';

                const trueButton = document.createElement('button');
                trueButton.className = 'option-button';
                trueButton.textContent = 'True';
                trueButton.addEventListener('click', () => handleOptionSelection(trueButton, questionDiv));
                optionsDiv.appendChild(trueButton);

                const falseButton = document.createElement('button');
                falseButton.className = 'option-button';
                falseButton.textContent = 'False';
                falseButton.addEventListener('click', () => handleOptionSelection(falseButton, questionDiv));
                optionsDiv.appendChild(falseButton);

                questionDiv.appendChild(optionsDiv);

                const checkButton = document.createElement('button');
                checkButton.className = 'check-answer';
                checkButton.textContent = 'Check Answer';
                checkButton.addEventListener('click', () => {
                    const selected = questionDiv.querySelector('.option-button.selected');
                     const correctAnswerText = q.answer ? 'True' : 'False';
                    if (selected) {
                        const isCorrect = (selected.textContent === 'True' && q.answer) || (selected.textContent === 'False' && !q.answer);
                        showFeedback(questionDiv, isCorrect, correctAnswerText);
                    } else {
                        showFeedback(questionDiv, false, correctAnswerText);
                    }
                });
                questionDiv.appendChild(checkButton);

                tfContainer.appendChild(questionDiv);
            });
        }

        // --- Load Multiple Choice Questions ---
        function loadMultipleChoiceQuestions() {
            mcContainer.innerHTML = ''; // Clear previous content
            multipleChoice.forEach((q) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';

                const questionText = document.createElement('p');
                questionText.textContent = q.question;
                questionDiv.appendChild(questionText);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';

                q.options.forEach(option => {
                    const optionButton = document.createElement('button');
                    optionButton.className = 'option-button';
                    optionButton.textContent = option;
                    optionButton.addEventListener('click', () => handleOptionSelection(optionButton, questionDiv));
                    optionsDiv.appendChild(optionButton);
                });
                questionDiv.appendChild(optionsDiv);

                const checkButton = document.createElement('button');
                checkButton.className = 'check-answer';
                checkButton.textContent = 'Check Answer';
                checkButton.addEventListener('click', () => {
                    const selected = questionDiv.querySelector('.option-button.selected');
                    if (selected) {
                        showFeedback(questionDiv, selected.textContent === q.answer, q.answer);
                    } else {
                         showFeedback(questionDiv, false, q.answer);
                    }
                });
                questionDiv.appendChild(checkButton);

                mcContainer.appendChild(questionDiv);
            });
        }

        // --- Initial Load ---
        // Load all quiz questions initially so they are ready when tabs are clicked
        loadFillInTheBlankQuestions();
        loadTrueFalseQuestions();
        loadMultipleChoiceQuestions();

    }); // End DOMContentLoaded
    // --- END OF SCRIPT LOGIC ---
</script>

</body\>
</html\>
